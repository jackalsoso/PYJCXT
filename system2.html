<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://cdn.bootcss.com/echarts/4.4.0-rc.1/echarts-en.common.min.js"></script>
  <script src="https://cdn.bootcss.com/echarts/4.4.0-rc.1/echarts-en.js"></script>
  <script type="text/javascript" src="./js/vue.min.js"></script>
  <script type="text/javascript" src="./js/axios.min.js"></script>
  <script type="text/javascript" src="./js/mock.js"></script>
  <link href="./css/reset.css" rel="stylesheet">
  <link id="cssthemes" href="" rel="stylesheet">
  <link rel="stylesheet" type="text/css" media="all" href="./css/daterangepicker.css" />
  <link rel="stylesheet" type="text/css" href="./css/pagination.css" media="screen">
  <title>浦仪公路西段上坝夹江大桥健康监测系统</title>
</head>
<body>
  <div class="page-controller">
    <div class="page-header">
      <div class="logo">浦仪公路西段上坝夹江大桥健康监测系统</div>
      <div class="user">
        <div class="datetimer">2020年05月11日 周一 19 : 46</div>
        <div class="themes-picker">
          <img src="./images/icon_themes.png" />
          <ul>
            <li class="white" data-theme="normal"><img src="./images/icon_white.png" /></li>
            <li class="blue active" data-theme="dark"><img src="./images/icon_blue.png" /></li>
          </ul>
        </div>
        <div class="userinfo"><img src="./images/portrait.jpg" border="0" /><span>管理员</span></div>
      </div>
    </div>
    <div class="page-nav">
      <div class="themes-picker" data-theme="">
        <div class="dot"></div>
        <div class="label"></div>
      </div>
      <ul>
        <li data-menu="index">首页</li><!-- 首页 -->
        <li><span>时程数据</span>
          <ul>
            <li data-menu="time1"><span>测点时程</span></li>
            <li data-menu="time3"><span>交通荷载</span></li>
          </ul>
        </li><!-- 时程数据 -->
        <li><span>统计数据</span>
          <ul>
            <li data-menu="statistics1"><span>测点时程统计</span></li>
            <li data-menu="statistics13"><span>交通荷载统计</span></li>
          </ul>
        </li><!-- 统计数据 -->
        <li><span>结构<br>状态分析</span>
          <ul>
          <li data-menu="structural1"><span>结构动力特性分析</span></li>
          <li data-menu="structural2"><span>应力五度指标</span></li>
          <li data-menu="structural3"><span>结构变形响应分析</span></li>
          <li data-menu="structural4"><span>正交异性板疲劳分析</span></li>
          <li data-menu="structural5"><span>拉索索力时频域分析</span></li>
          <li data-menu="structural6"><span>结构相关性分析</span></li>
          <li data-menu="structural7"><span>阻尼器/梁端纵向累积行程分析</span></li>
          <li data-menu="structural8"><span>行人舒适度评价</span></li>
          </ul>
        </li><!-- 结构状态分析 -->
        <li><span>服役<br>环境分析</span>
          <ul>
            <li data-menu="scenario1"><span>实际车载效应分析</span></li>
            <li data-menu="scenario2"><span>风荷载分析</span></li>
            <li data-menu="scenario3"><span>温度场分析</span></li>
          </ul>
        </li><!-- 服役环境分析 -->
        <li><span>预警管理</span>
          <ul>
            <li data-menu="warning1"><span>结构状态预警</span></li>
            <li data-menu="warning2"><span>服役环境预警</span></li>
          </ul>
        </li><!-- 预警管理 -->
        <li class="active"><span>系统管理</span>
          <ul>
            <li data-menu="system1"><span>角色管理</span></li>
            <li data-menu="system2"><span>监测设备管理</span></li>
            <li data-menu="system3"><span>资料备份</span></li>
          </ul>
        </li><!-- 系统管理 -->
      </ul>
    </div>
    <div class="page-body system2">
      <!-- <div class="system2-left"> -->
        <div class="page-box system2-left-top">
          <div class="title">
            <span>监测设备健康状态</span>
          </div>
          <div class="content">
            <div class="chart" id="chart1"></div>
          </div>
        </div>
        <div class="page-box system2-left-bottom">
          <div class="title">
            <span>监测设备在线统计</span>
          </div>
          <div class="content">
            <ul>
              <li>
                <span>设备总量</span>
                <span>5600个</span>
              </li>
              <li>
                <span>在线设备</span>
                <span>3765个</span>
              </li>
            </ul>
            <div class="chart" id="chart2"></div>
          </div>
        </div>
      <!-- </div> -->

      <!-- <div class="time-bottom time3bottom"> -->
        <div class="page-box system2-right">
          <div class="title">
            <span>系统运维记录</span>
          </div>
          <div class="content">
            <div class="header">
              <ul class="header-left">

              </ul>
              <div class="header-right">
                <select>
                  <option value="">系统运维记录</option>
                </select>
                <input type="text" id="time-selector1" class="time-selector">
                <input type="text" placeholder="输入关键字查找">
                </select>
                <button class="created">
                  <img src="./images/created.png" border="0" />
                  <span>创建事件</span>
                </button>
              </div>
            </div>
            <div class="list-table">
              <div class="tb-hd">
                <ul>
                  <li>时间</li>
                  <li>营养类型</li>
                  <li>营养内容</li>
                  <li>操作</li>
                </ul>
              </div>
              <div class="tb-bd">
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
                <ul><li>2018.1.1 14:00</li><li>人工检查</li><li>检查横隔板上的缺陷及裂缝情况，链接钢板有无外漏、锈蚀情况。</li><li class="do"><a href="javascript:;">编辑</a> | <a href="javascript:;">删除</a> | <a href="javascript:;">详情</a></li></ul>
              </div>
              <!-- <img src="./images/simple6.jpg" border="0" /> -->
            </div>
            <div class="m-style pagination"></div>
          </div>
        </div>
      <!-- </div> -->

    </div>
  </div>
  <script src="./js/jquery.min.js"></script>
  <script src="./js/common.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script>
  <script type="text/javascript" src="./js/daterangepicker.js"></script>
  <script src="./js/jquery.pagination.js"></script>
  <script type="text/javascript">
    let init = function () {
      var value = 80; // 数值
      var _x = document.getElementById('chart1').offsetWidth; // 宽度
      var _y = document.getElementById('chart1').offsetHeight; // 高度
      var x0 = _x / 2,
        y0 = _y / 2; // 圆心坐标点
      var r = _x > _y ? _y * 0.4 - 6 : _x * 0.4 - 6; // 半径
      var deg = value / 100 * 270 - 225; // 角度
      var option1 = {
        series: {
          name: '设备状况',
          type: 'gauge',
          max: 100,
          radius: '80%',
          detail: {
            formatter: function (value) {
              return `{a|}\n{b|${value}}\n{c|设备状况}`
            },
            offsetCenter: [0, 0],
            rich: {
              a: {
                backgroundColor: {
                  image: './images/score.png'
                },
                width: 40,
                height: 22
              },
              b: {
                fontSize: 30,
                color: sessionStorage.theme == 'dark' ? '#fff' : '#000',
                padding: [10, 0, 15]
              },
              c: {
                fontSize: 14,
                color: '#8D8C98'
              }
            }
          },
          data: [{
            value: value
          }],
          axisLine: {
            lineStyle: {
              width: 12,
              color: [
                [1, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                    offset: 0.15,
                    color: "#FF6383"
                  },
                  {
                    offset: 0.50,
                    color: "#C95FF2"
                  },
                  {
                    offset: 0.85,
                    color: "#7C6AF2"
                  },
                  {
                    offset: 1,
                    color: "#5C89FF"
                  }
                ])]
              ]
            }
          },
          splitLine: {
            show: false
          },
          axisLabel: {
            distance: -20,
            show: true,
            formatter: function (value) {
              if (value === 0) {
                return '{a|严重}'
              } else if (value === 100) {
                return '{b|良好}'
              }
              return ''
            },
            rich: {
              a: {
                fontSize: 14,
                color: '#FF6383',
                padding: [-50, 0, 0, -10]
              },
              b: {
                fontSize: 14,
                color: '#6085FD',
                padding: [-50, -10, 0, 0]
              }
            }
          },
          pointer: {
            show: false
          },
          axisTick: {
            show: false
          }
        },
        graphic: [{
          type: 'circle',
          shape: {
            r: 7,
            cx: x0 + r * Math.cos(deg * Math.PI / 180),
            cy: y0 + r * Math.sin(deg * Math.PI / 180)
          },
          style: {
            fill: sessionStorage.theme == 'dark' ? '#fff' : '#000'
          },
          z: 10
        }]
      }
      var option2 = {
        xAxis: {
          show: false
        },
        yAxis: {
          type: 'category',
          axisLine: {
            lineStyle: {
              color: '#ACB3BE'
            }
          },
          axisTick: {
            show: false
          },
          axisLabel: {
            color: sessionStorage.theme == 'dark' ? '#fff' : '#000',
            margin: 10
          },
          splitLine: {
            show: false
          },
          boundaryGap: false,
          data: ['风攻角', '风速', '温湿度', '温度', '支座位移', '阻尼器', '伸缩缝', '索力', '空间变位', '挠度', '应力']
        },
        series: [{
          name: '监测设备在线统计',
          type: 'bar',
          barWidth: 14,
          itemStyle: {
            normal: {
              label: {
                show: true,
                position: 'right',
                textStyle: {
                  color: sessionStorage.theme == 'dark' ? '#fff' : '#000',
                  fontSize: 14
                }
              },
              color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                offset: 0,
                color: '#0063FA'
              }, {
                offset: 1,
                color: '#2AD0FF'
              }])
            }
          },
          data: [68, 77, 80, 85, 99, 103, 105, 118, 127, 136, 143]
        }],
        grid: {
          left: 20,
          top: 20,
          right: 40,
          bottom: 20,
          containLabel: true
        }
      }
      // 初始化echarts实例
      var myChart1 = echarts.init(document.getElementById('chart1'), 'light');
      var myChart2 = echarts.init(document.getElementById('chart2'), 'light');
      myChart1.setOption(option1, true);
      myChart2.setOption(option2, true);
    }
    //所有检测项和测点   mock
    Mock.mock(
      'GET /monitor-service/items/bridgeId/:5f45d7f634f70b68fbeba992', {
      "data": [{
        "id": "5f5641d7b5185269993253cd",
        "version": 1599636245976,
        "bridgeId": "5f45d7f634f70b68fbeba992",
        "monitorItemType": "STRESS",
        "monitorItemTypeName": "应力",
        "measuringPoints": ["WS-01-FF-03"]
      }]
    }

    );
    //初始化vue
    var app = new Vue({
        el: '#app',
        data: {
          select1name: "",
        },
        mounted() {
          this.getcedian()
        },
        methods: {
          getcedian() {
            let thiz = this;
            axios({
              method: 'get',
              url: "GET /monitor-service/items/bridgeId/:5f45d7f634f70b68fbeba992",
              // params: { bridgeId: "5f45d7f634f70b68fbeba992" }
            })
              .then(function (res) {
                console.log(res)
                if (res.status == 200) {
                  console.log(res.data)
                  //所有检测项和测点
                }

              })
              .catch(err => {

              });
          },

        }
      })
    $('#time-selector1').daterangepicker({
      "startDate": "08/10/2020",
      "endDate": "08/16/2020",
      "opens": "left"
    }, function (start, end, label) {
      console.log(
        "New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')"
        );
    });
    $(function () {
      $('.pagination').pagination({
        mode: 'fixed',
        pageCount: 50,
        jump: true,
        coping: true,
        homePage: '首页',
        endPage: '末页',
        prevContent: '上页',
        nextContent: '下页',
        callback: function (api) {}
      });
    })
  </script>
</body>

</html>
